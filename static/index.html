<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>DATA101 Final Project</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <link href="https://api.mapbox.com/mapbox-gl-js/v2.3.1/mapbox-gl.css" rel="stylesheet">
  <script src="https://api.mapbox.com/mapbox-gl-js/v2.3.1/mapbox-gl.js"></script>
  <link rel="stylesheet" href="static/main.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

</head>
<body>

  <nav class="navbar navbar-default" role="navigation">
    <div class="navbar-header">
      <h3 class="navbar-brand">PHILIPPINE HEALTH DASHBOARD</h3>
    </div>
  </nav>

  <button type="button" class="btn btn-dark bg-opacity-75" id='goToBottom' style='z-index:100; position: fixed;
  right: 0;
  bottom: 0; margin: 15px'>Scroll to bottom for more</button>

  <div class="container-fluid" id="visualisations">
    <div class="row h-10 my-4 ms-2">
      <h3>Map</h3>
      <p>This is the map showing the different health sites and healthcare workers in the Philippines. To see the heatmap showing the saturation of healthcare workers over different regions and provinces, use the scrolling feature of the mouse to zoom in on the map.</p>
    </div>
    <div class="row h-100 shadow-sm p-0 m-2 rounded" style="background-color: #deb0b0">
      <div class="" id="map" style="margin-left: -1.5px; padding: 0 0 0 0">

      </div>
      <div class="accordion" id="map_filter_options">
        <div class="accordion-item">
          <h5 class="accordion-header" id="headingOne">
            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
              Map Filter: Number of Healthsites per Region
            </button>
          </h5>
          <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
            <div class="accordion-body">
              <div class="col" id="column_filter">
                <div class="row" id="filter_header">
                  Filter Healthcare Workers
                </div>
                <div class="row" id="filter_item">
                  <label class="filter-label">Healthcare Worker Type</label>
                  <select class="form-select" id="select_healthcare_worker_type" aria-label="Default select example">
                    <option value="" selected disabled>Select a worker type</option>
                  </select>
                </div>
                <div class="row" id="filter_item">
                  <label class="filter-label">Sector</label>
                  <div class="form-check form-check-inline" style="margin-left: 6px">
                    <input class="form-check-input" type="radio" name="inlineRadioOptions" id="radiobtn_public_sector" value="Public">
                    <label class="form-check-label" for="radiobtn_public_sector">Public</label>
                  </div>
                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="inlineRadioOptions" id="radiobtn_private_sector" value="Private">
                    <label class="form-check-label" for="radiobtn_private_sector">Private</label>
                  </div>
                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="inlineRadioOptions" id="radiobtn_both_sector" value="Total" checked>
                    <label class="form-check-label active" for="radiobtn_both_sector">Both</label>
                  </div>
                </div>
                <div class="row" id="filter_header">
                  Filter Health Sites
                </div>
                <div class="row" id="filter_item">
                  <label class="filter-label">Amenities</label>
                  <select class="form-select" id="select_amentity" aria-label="Default select example">
                    <option value="" selected disabled>Select an amenity type</option>
                  </select>
                </div>
                <div class="row" id="filter_header">
                  Filter Location
                </div>
                <div class="row" id="filter_item">
                  <label class="filter-label">Province</label>
                  <select class="form-select" id="select_province" aria-label="Default select example">
                    <option value="" selected disabled>Select a province</option>
                  </select>
                </div>
                <div class="row" id="filter_item">
                  <label class="filter-label">Region</label>
                  <select class="form-select" id="select_region" aria-label="Default select example">
                    <option value="" selected disabled>Select a region</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="position-absolute top-80 end-0 float-right" id="floating_stats">
        <div class="row-fluid shadow-sm p-3 mb-3 bg-white rounded">
          <h3 id="healthcare_workers_total"></h3>
          <p>Healthcare Workers</p>
        </div>
        <div class="row-fluid shadow-sm p-3 mb-3 bg-white rounded">
          <p style="font-size:small; font-weight:bold">Types of Healthcare Workers</p>
          <div id="pie_typesofhealthworkers">

          </div>
        </div>
        <div class="row-fluid shadow-sm p-3 mb-3 bg-white rounded">
          <h3 id="healthsites_total"></h3>
          <p>Health Sites</p>
        </div>
        <div class="row-fluid shadow-sm p-3 mb-3 bg-white rounded">
          <p style="font-size:small; font-weight:bold">Health Sites Amenities</p>
          <div id="pie_sites">

          </div>
        </div>
      </div>
    </div>
    <div class="row h-10 my-4 ms-2">
      <h3>Hierarchical Bar Chart and Bubble Chart</h3>
      <p>This portion contains two charts analyses the relationships of the health sites, healthcare workers, and populations in the different regions and provinces in the Philippines.</p>
      <p style='font-size:14px; color:gray; margin-top:0.5em'>Hierarchical Bar Chart: This chart compares the number of health sites in different regions and provinces.</p>
      <p style='font-size:14px; color:gray; margin-top:0.5em'>Bubble Chart: This chart compares the number of health sites, number of healthcare workers, and population in different regions and provinces.</p>
    </div>
    <div class="row h-25" id="second_row">

      <div class="col col-7.5 shadow-sm p-3 mb-2 my-2 me-2 bg-white rounded" id="num_healthsites_per_region">
        <h6>Number of Healthsites per Region / Province</h6>

        <div id="bar"></div>
      </div>
      <div class="col col-md-auto shadow-sm p-3 mb-2 my-2 ms-2 bg-white rounded" id="num_healthsites_vs_healthcare_workers_per_region">
        <h6>Number of Healthsites vs Healthcare Workers per Region / Province</h6>
        <p style='font-size:12px; color:gray; margin-bottom:1em'>Click on a bubble to see the breakdown for that specific region.</p>
        <div>
          <div style="height: 30px;">
              <button class="btn btn-primary" id="bBack" style="display:none">ðŸ¡„</button>
              <span id="regionname"></span>
          </div>
          <div id="my_dataviz" style="width: 750px; height: 500px;"></div>
      </div>
      </div>
    </div>
    <div class="row h-50 mb-0 p-5" id="footer">
      <div class="row">
        <h5 style='color: #464646; margin-bottom:-10em; padding-bottom:0'>Disclaimer and Sources:</h5>

      </div>
      <div class="row">
        <p style='padding-top:0; padding-bottom:0'>The data sources for the Philippine Health Dashboard were gathered from different years and may not accurately represent the current numbers for both health sites and healthcare workers in the country. However, these datasets used are already the most recent that are available.</p>
      </div>
      <div class="row">
        <h6 style='margin-bottom:0px; padding-bottom:0px; color: #464646'>Datasets Used:</h6>
        <p style='font-size:14px; margin-bottom:-1em;'>Philippine Health Sites by humdata:
          <a style='color: #635980' href="https://data.humdata.org/dataset/20e5069f-1eb8-465b-98c8-3442a62cd3f0">Source</a>
        </p>
        <p style='font-size:14px; margin-bottom:-1em;'>Philippine Healthcare Workers by OCHA Philippines:
          <a style='color: #635980' href="https://data.world/ochaphilippines/228df224-cbce-4ba9-a229-cdc0ad83a326/workspace/file?filename=200108-2018-doh-human-resources-geographical-distribution-profession-and-by-facility-ownership-xlsx-1.xlsx">Source</a>
        </p>
        <p style='font-size:14px; margin-bottom:-1em;'>2020 Philippine Census by Rappler:
          <a style='color: #635980' href="https://www.rappler.com/newsbreak/data-documents/most-least-populous-provinces-philippines-2020-census">Source</a>
        </p>
      </div>
    </div>
  </div>



  <script type="text/javascript" src="static/pieworkers.js"></script>
  <script type="text/javascript" src="static/piesites.js"></script>
  <script type="text/javascript" src="static/numworkers.js"></script>
  <script type="text/javascript" src="static/numsites.js"></script>
  <!-- <script type="text/javascript" src="static/pie2.js"></script> -->
  <!-- <script type="text/javascript" src="static/draggable_div.js"></script> -->
  <script type="text/javascript" src="static/map.js"></script>
  <script type="text/javascript" src="static/bubble.js"></script>
  <script type="text/javascript" src="static/filter.js"></script>
  <script type="text/javascript" src="static/scrolltobottom.js"></script>
</body>
</html>
